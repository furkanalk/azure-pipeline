plugins:
- name: pre-function
  config:
    access:
      - kong.log.set_serialize_value("request.body", kong.request.get_raw_body())
      - kong.service.request.enable_buffering()
    body_filter:
      - kong.log.set_serialize_value("response.body", kong.response.get_raw_body())
    certificate: []
    header_filter: []
    log: []
    rewrite: []
    ws_client_frame: []
    ws_close: []
    ws_handshake: []
    ws_upstream_frame: []
  enabled: false
  instance_name: Requestbody-prefunction
  protocols:
  - grpc
  - grpcs
  - http
  - https
